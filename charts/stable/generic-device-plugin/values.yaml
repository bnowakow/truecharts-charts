# yaml-language-server: $schema=./values.schema.json
image:
  repository: ghcr.io/squat/generic-device-plugin
  pullPolicy: IfNotPresent
  tag: latest@sha256:8e0eb738862df4f59469d45935405e066001bc29597e7154ab64542f9565cae1

workload:
  main:
    podSpec:
      containers:
        main:
          args:
            - --domain
            - truecharts.org
            - --device
            - |
              name: tun
              groups:
                - count: 1000
                  paths:
                    - path: /dev/net/tun
securityContext:
  container:
    readOnlyRootFilesystem: true
    privileged: true
    runAsNonRoot: false
    runAsGroup: 0
    runAsUser: 0
persistence:
  dev:
    enabled: true
    type: hostPath
    hostPath: /dev
    mountPath: /dev
  device-plugin:
    enabled: true
    type: hostPath
    hostPath: /var/lib/kubelet/device-plugins
    mountPath: /var/lib/kubelet/device-plugins
service:
  main:
    ports:
      main:
        port: 8080
        protocol: tcp
